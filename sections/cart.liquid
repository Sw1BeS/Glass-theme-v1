{%- comment -%}
  Clean Cart Section for IS BEAUTY LUX
  Features: Glass effect, responsive design, theme integration
{%- endcomment -%}

<div class="section cart-section">
  <div class="cart__container">
    <div class="cart__header">
      {% if section.settings.heading != blank %}
        <h1 class="cart__title">{{ section.settings.heading }}</h1>
      {% endif %}
    </div>

    {% if cart.item_count > 0 %}
      <form action="{{ routes.cart_url }}" method="post" class="cart__form">
        <div class="cart__items">
          {% for item in cart.items %}
            <div class="cart__item">
              <div class="cart__item-image">
                {% if item.image %}
                  <img
                    src="{{ item.image | image_url: width: 100 }}"
                    alt="{{ item.image.alt | escape }}"
                    class="cart__item-img"
                  >
                {% endif %}
              </div>

              <div class="cart__item-details">
                <h3 class="cart__item-title">{{ item.product.title }}</h3>
                <p class="cart__item-variant">{{ item.variant.title }}</p>
                <div class="cart__item-price">{{ item.price | money }}</div>
              </div>

              <div class="cart__item-quantity">
                <input
                  type="number"
                  name="updates[]"
                  value="{{ item.quantity }}"
                  min="0"
                  class="cart__quantity-input"
                >
              </div>

              <div class="cart__item-total">
                {{ item.line_price | money }}
              </div>
            </div>
          {% endfor %}
        </div>

        <div class="cart__footer">
          <div class="cart__total">
            <h3 class="cart__total-title">Total: {{ cart.total_price | money }}</h3>
          </div>

          <div class="cart__actions">
            <button type="submit" name="update" class="button cart__update">
              Update Cart
            </button>
            <button type="submit" name="checkout" class="button cart__checkout">
              Checkout
            </button>
          </div>
        </div>
      </form>
    {% else %}
      <div class="cart__empty">
        <h2 class="cart__empty-title">Your cart is empty</h2>
        <p class="cart__empty-text">Start shopping to add items to your cart.</p>
        <a href="{{ routes.all_products_collection_url }}" class="button cart__continue">
          Continue Shopping
        </a>
      </div>
    {% endif %}
  </div>
</div>

{% schema %}
{
  "name": "Cart",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Your Cart"
    },
    {
      "type": "select",
      "id": "color_scheme",
      "label": "Color Scheme",
      "options": [
        {
          "value": "brand-porcelain",
          "label": "Brand Porcelain"
        },
        {
          "value": "classic-rose",
          "label": "Classic Rose"
        },
        {
          "value": "deep-burgundy",
          "label": "Deep Burgundy"
        },
        {
          "value": "sage-green",
          "label": "Sage Green"
        },
        {
          "value": "midnight-blue",
          "label": "Midnight Blue"
        },
        {
          "value": "warm-terracotta",
          "label": "Warm Terracotta"
        }
      ],
      "default": "brand-porcelain"
    }
  ],
  "presets": [
    {
      "name": "Cart"
    }
  ]
}
{% endschema %}
